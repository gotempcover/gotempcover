/* app/globals.css */
@import "tailwindcss";

/* =========================================================
   Global layout sanity
========================================================= */
*,
*::before,
*::after {
  box-sizing: border-box;
}

button,
input,
textarea,
select {
  font: inherit;
  color: inherit;
}

html:focus-within {
  scroll-behavior: smooth;
}

@font-face {
  font-family: "TAN Headline";
  src: url("/fonts/TANHeadline.woff2") format("woff2"),
       url("/fonts/TANHeadline.woff") format("woff");
  font-display: swap;
  font-style: normal;
  font-weight: 400 900;
}

.font-tan {
  font-family: "TAN Headline", ui-serif, Georgia, "Times New Roman", serif;
  letter-spacing: -0.01em;
}


/* =========================================================
   Premium theme tokens
========================================================= */
:root {
  /* Surfaces */
  --bg: 248 250 252;        /* slate-50 */
  --panel: 255 255 255;     /* white */
  --panel-2: 241 245 249;   /* slate-100 */
  --text: 15 23 42;         /* slate-900 */
  --muted: 71 85 105;       /* slate-600 */
  --muted-2: 100 116 139;   /* slate-500 */
  --border: 226 232 240;    /* slate-200 */

  /* Brand */
  --brand: 37 99 235;       /* blue-600 */
  --brand-2: 14 165 233;    /* sky-500 */

  /* Status */
  --success: 16 185 129;    /* emerald-500 */
  --danger: 239 68 68;      /* red-500 */

  /* Radius (slightly more premium + consistent) */
  --r-sm: 0.9rem;           /* was 0.75rem */
  --r-md: 1.15rem;          /* was 1rem */
  --r-lg: 1.45rem;          /* was 1.25rem */

  /* Shadows (premium but subtle) */
  --shadow-1: 0 1px 2px rgba(2, 6, 23, 0.06);
  --shadow-2: 0 12px 36px rgba(2, 6, 23, 0.10);
  --shadow-3: 0 20px 60px rgba(2, 6, 23, 0.14);
}

/* =========================================================
   Base
========================================================= */
html,
body {
  height: 100%;
}

body {
  color: rgb(var(--text));
  background: rgb(var(--bg));
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
  font-feature-settings: "cv02" 1, "cv03" 1, "cv04" 1, "ss01" 1;
  line-height: 1.5;
}

::selection {
  background: rgba(37, 99, 235, 0.16);
}

/* Better heading rendering (tiny, but feels “designed”) */
h1,
h2,
h3 {
  text-wrap: balance;
}
p {
  text-wrap: pretty;
}

a,
.btn-primary,
.btn-ghost {
  -webkit-tap-highlight-color: transparent;
}

/* Premium focus (keyboard users) — DO NOT force border-radius globally */
:focus-visible {
  outline: none;
  box-shadow:
    0 0 0 4px rgba(37, 99, 235, 0.14),
    0 0 0 1px rgba(255, 255, 255, 0.75) inset;
}

/* Optional: add to elements you want rounded focus */
.focus-ring {
  border-radius: 0.85rem;
}
.focus-ring:focus-visible {
  outline: none;
  box-shadow:
    0 0 0 4px rgba(37, 99, 235, 0.14),
    0 0 0 1px rgba(255, 255, 255, 0.75) inset;
}

/* Prefer reduced motion (cleaner, avoids 0.01ms weirdness) */
@media (prefers-reduced-motion: reduce) {
  html:focus-within {
    scroll-behavior: auto;
  }
  *,
  *::before,
  *::after {
    animation: none !important;
    transition: none !important;
    scroll-behavior: auto !important;
  }
}

/* =========================================================
   Layout helpers
========================================================= */
.container-app {
  max-width: 74rem;
  margin-inline: auto;
  padding-inline: 1rem;
}

@media (min-width: 640px) {
  .container-app {
    padding-inline: 1.5rem;
  }
}

@media (min-width: 1024px) {
  .container-app {
    padding-inline: 2rem;
  }
}

/* Consistent vertical rhythm for sections */
.section {
  padding-block: 3.75rem;
}
@media (min-width: 640px) {
  .section {
    padding-block: 4.5rem;
  }
}
@media (min-width: 1024px) {
  .section {
    padding-block: 5.25rem;
  }
}

/* Smoother scroll target spacing for anchored hero sections */
:target {
  scroll-margin-top: 6.5rem;
}

/* =========================================================
   Cards
========================================================= */
.card {
  border-radius: var(--r-md);
  border: 1px solid rgb(var(--border));
  background: rgb(var(--panel));
  box-shadow: var(--shadow-1);
}

.card-soft {
  border-radius: var(--r-md);
  border: 1px solid rgba(226, 232, 240, 0.78);
  background: rgba(255, 255, 255, 0.72);
  -webkit-backdrop-filter: blur(14px);
  backdrop-filter: blur(14px);
  box-shadow: var(--shadow-1);
}

/* Optional: subtle lift on hover for “premium” feel */
.card-hover {
  transition: transform 0.15s ease, box-shadow 0.2s ease, border-color 0.2s ease;
}
.card-hover:hover {
  transform: translateY(-1px);
  box-shadow: var(--shadow-2);
  border-color: rgba(148, 163, 184, 0.75);
}

/* Subtle “hairline” divider utility */
.divider-soft {
  height: 1px;
  width: 100%;
  background: linear-gradient(
    to right,
    rgba(226, 232, 240, 0),
    rgba(226, 232, 240, 0.95),
    rgba(226, 232, 240, 0)
  );
}

/* =========================================================
   Fintech gradient background
========================================================= */
.bg-wash {
  background:
    radial-gradient(900px 520px at 18% -8%, rgba(14,165,233,.18), transparent 58%),
    radial-gradient(860px 520px at 82% 6%, rgba(37,99,235,.16), transparent 62%),
    radial-gradient(900px 640px at 50% 112%, rgba(16,185,129,.08), transparent 58%),
    linear-gradient(to bottom, rgba(255,255,255,.72), rgba(248,250,252,1));
}

/* Optional ultra subtle grain */
.bg-grain {
  position: relative;
}
.bg-grain::before {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  opacity: 0.04;
  background-image: radial-gradient(circle at 1px 1px, rgba(15, 23, 42, 0.35) 1px, transparent 0);
  background-size: 24px 24px;
}

/* =========================================================
   Typography helpers (policy/legal/faq pages)
========================================================= */
.prose {
  color: rgb(var(--text));
  line-height: 1.7;
}
.prose p {
  margin: 0.9rem 0;
  color: rgb(30, 41, 59);
}
.prose h1,
.prose h2,
.prose h3 {
  letter-spacing: -0.02em;
  line-height: 1.15;
  margin: 1.25rem 0 0.5rem;
}
.prose ul {
  margin: 0.75rem 0 1rem;
  padding-left: 1.25rem;
}
.prose li {
  margin: 0.35rem 0;
}

/* =========================================================
   Forms
========================================================= */
.label {
  display: block;
  margin-bottom: 0.4rem;
  font-size: 0.75rem;
  font-weight: 600;
  color: rgb(51, 65, 85);
}

.input {
  width: 100%;
  border-radius: var(--r-sm);
  border: 1px solid rgb(var(--border));
  background: rgb(var(--panel));
  padding: 0.78rem 1rem;
  font-size: 0.95rem;
  outline: none;
  box-shadow: 0 1px 0 rgba(2, 6, 23, 0.03);
  transition: border-color 0.15s ease, box-shadow 0.15s ease, transform 0.08s ease;
}

.input::placeholder {
  color: rgb(148, 163, 184);
}

/* subtle premium hover */
.input:not(:disabled):hover {
  border-color: rgba(148, 163, 184, 0.85);
}

/* focus ring parity with buttons */
.input:focus {
  border-color: rgba(37, 99, 235, 0.35);
  box-shadow:
    0 0 0 4px rgba(37, 99, 235, 0.12),
    0 0 0 1px rgba(255, 255, 255, 0.75) inset,
    0 1px 0 rgba(2, 6, 23, 0.03);
}

.input:disabled {
  background: rgba(241, 245, 249, 0.7);
  color: rgb(100, 116, 139);
  cursor: not-allowed;
}

.field-hint {
  margin-top: 0.4rem;
  font-size: 0.75rem;
  color: rgb(100, 116, 139);
}
.field-error {
  margin-top: 0.4rem;
  font-size: 0.75rem;
  color: rgb(220, 38, 38);
}

/* =========================================================
   Buttons (Tailwind v4-safe)
   (keeps your rule: ALL secondary = ghost/light)
========================================================= */
@layer components {
  .btn-primary,
  .btn-ghost {
    appearance: none;
    -webkit-tap-highlight-color: transparent;
    background-clip: padding-box;

    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;

    border-radius: var(--r-sm);
    padding: 0.78rem 1rem;

    font-size: 0.95rem;
    font-weight: 800;
    letter-spacing: -0.01em;

    text-decoration: none;
    white-space: nowrap;
    user-select: none;
    touch-action: manipulation;

    -webkit-font-smoothing: antialiased;
    text-rendering: geometricPrecision;

    transition:
      transform 0.08s ease,
      box-shadow 0.2s ease,
      background-color 0.2s ease,
      opacity 0.2s ease,
      border-color 0.2s ease;
  }

  .btn-sm {
    padding: 0.55rem 0.8rem;
    font-size: 0.82rem;
    border-radius: 0.7rem;
  }

  .btn-primary {
    color: white;
    background: linear-gradient(135deg, rgb(37, 99, 235) 0%, rgb(14, 165, 233) 100%);
    box-shadow: 0 12px 34px rgba(37, 99, 235, 0.18);
  }

  a.btn-primary,
  a.btn-ghost {
    color: inherit;
  }
  a.btn-primary {
    color: white;
  }

  .btn-primary,
  .btn-ghost {
    text-decoration: none !important;
  }

  /* lock colour (no dark flash) */
  .btn-primary:hover,
  .btn-primary:focus,
  .btn-primary:focus-visible,
  .btn-primary:active {
    color: white;
    background: linear-gradient(135deg, rgb(37, 99, 235) 0%, rgb(14, 165, 233) 100%);
  }

  .btn-primary:active {
    transform: scale(0.985);
    box-shadow: 0 8px 20px rgba(37, 99, 235, 0.18);
  }

  .btn-primary:disabled {
    opacity: 0.55;
    cursor: not-allowed;
    box-shadow: none;
  }

  /* GHOST / LIGHT (default everywhere) */
  .btn-ghost {
    border: 1px solid rgb(var(--border));
    background: rgb(var(--panel));
    color: rgb(var(--text));
    box-shadow: 0 1px 0 rgba(2, 6, 23, 0.03);
  }

  .btn-ghost:hover,
  .btn-ghost:focus,
  .btn-ghost:focus-visible,
  .btn-ghost:active {
    background: rgb(var(--panel));
    color: rgb(var(--text));
    border-color: rgba(148, 163, 184, 0.9);
  }

  /* subtle premium hover shadow ONLY when enabled */
  .btn-ghost:not(:disabled):hover {
    box-shadow:
      0 1px 0 rgba(2, 6, 23, 0.03),
      0 14px 34px rgba(2, 6, 23, 0.08);
  }

  .btn-ghost:active {
    transform: scale(0.99);
  }

  .btn-ghost:disabled {
    opacity: 0.55;
    cursor: not-allowed;
    box-shadow: none;
  }

  /* premium button focus (without global radius forcing) */
  .btn-primary:focus-visible,
  .btn-ghost:focus-visible {
    outline: none;
    box-shadow:
      0 0 0 4px rgba(37, 99, 235, 0.14),
      0 0 0 1px rgba(255, 255, 255, 0.75) inset,
      0 12px 36px rgba(2, 6, 23, 0.10);
  }
}

/* =========================================================
   Badges & links (wrap + squish + layout-safe)
========================================================= */
.badge {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;

  white-space: nowrap;
  flex-shrink: 0;

  max-width: 100%;
  overflow: hidden;
  text-overflow: ellipsis;

  line-height: 1;

  border-radius: 9999px;
  border: 1px solid rgb(var(--border));
  background: rgba(255, 255, 255, 0.92);
  padding: 0.25rem 0.75rem;
  font-size: 0.75rem;
  font-weight: 600;
  color: rgb(51, 65, 85);
}

.badge-sm {
  padding: 0.2rem 0.6rem;
  font-size: 0.7rem;
}

/* If you ever want strict truncation in specific places only */
.badge-truncate {
  max-width: 12rem;
}

/* Default simple text links (for nav/footer) */
.link {
  color: rgb(51, 65, 85);
  text-decoration: none;
  border-radius: 0.6rem;
  padding: 0.25rem 0.35rem;
  transition: color 0.15s ease, background-color 0.15s ease;
}
.link:hover {
  color: rgb(15, 23, 42);
  background: rgba(15, 23, 42, 0.04);
}
.link:focus-visible {
  outline: none;
  box-shadow:
    0 0 0 4px rgba(37, 99, 235, 0.14),
    0 0 0 1px rgba(255, 255, 255, 0.75) inset;
}

/* Keep your existing underlined helper link class */
.a {
  color: rgb(29, 78, 216);
  text-decoration: underline;
  text-underline-offset: 4px;
}
.a:hover {
  color: rgb(30, 64, 175);
}

/* VRM “plate” formatting (display only) */
.vrm-display {
  letter-spacing: 0.14em;
  text-transform: uppercase;
}

/* =========================================================
   FAQ details/summary UX
========================================================= */
details > summary::-webkit-details-marker {
  display: none;
}
details[open] summary {
  margin-bottom: 0.25rem;
}

/* =========================================================
   Image micro-polish
========================================================= */
img {
  image-rendering: auto;
  -webkit-user-drag: none;
  user-select: none;
}

/* =========================================================
   Animations
========================================================= */
@keyframes gradientShift {
  0% { transform: translate3d(0,0,0); filter: hue-rotate(0deg); }
  50% { transform: translate3d(-2%, -2%, 0); filter: hue-rotate(7deg); }
  100% { transform: translate3d(0,0,0); filter: hue-rotate(0deg); }
}

.animate-gradient {
  animation: gradientShift 10s ease-in-out infinite;
}
